
var setLoadUtils = require('./lib/loadUtils');

// These utils have dependencies, need to be requested
var utils = {
    buffer: ['through2']
  , colors: ['chalk']
  , date:   ['dateformat']
  , defineSrc:   ['vinyl-source-stream']
  , env:  ['minimist']
  , File: ['vinyl']
  , lazypipe: ['lazypipe']
  , log:  ['chalk', 'dateformat']
  , noop: ['through2']
  , pipeline: ['multipipe']
  , PluginError: ['chalk']
  , replaceExtension: ['replace-ext']
  , template: ['lodash.template', 'lodash._reinterpolate']
};

// These utils don't have dependencies
var defaultUtils = {
    beep:     require('./lib/beep')
  , isBuffer: require('./lib/isBuffer')
  , isNull:   require('./lib/isNull')
  , isStream: require('./lib/isStream')
  , loadUtils: setLoadUtils.loadUtils
};

module.exports = setLoadUtils(utils, defaultUtils);